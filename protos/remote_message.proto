syntax = "proto3";

package remote;

service RemoteCommunication
{
    rpc DownloadFile (RemoteRequest) returns (File) {}
    rpc DownloadFileViaStream (RemoteRequest) returns (stream File) {}
    rpc UploadFile (File) returns (Empty) {}
    rpc LoginToServer (UserLoginInfo) returns (LoginResult) {}
    rpc GetFileNamesOfDataset (Empty) returns (FileNamesOfDataset) {}
}

message Empty {}

message RemoteRequest
{
    string name = 1;
    int32 chunksize = 2; // for stream
}

message File
{
    bytes buffer = 1;
    string name = 2;
    int32 size = 3;  
    string date = 4;
    bool success = 5;
}

message UserLoginInfo
{
    string id = 1;
    string pw = 2;
}

message LoginResult
{
    bool result = 1;
}

message FileList
{
    string name = 1;
    bool isdir = 2;
}

message FileNamesOfDataset
{
    repeated string filenames = 1;
}